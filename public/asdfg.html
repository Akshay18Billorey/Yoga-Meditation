<!DOCTYPE html>
<!-- <html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

</head>
<body>
    
</body>
</html> -->
<html>
 <head>
 <!-- <title>Upload Image using AJAX</title> -->
 
 <!-- including jquery --> 
 <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js'></script>
 </head>
 
 <body>
 <!-- Creating a form to upload image --> 
 <form id='uploadImage' action='upload.php' method='post' enctype='multipart/form-data'>
 <input type='file' name='photo' />
 <button>Upload File</button>
 </form>
 
 <!-- p element with id msg to display success msg --> 
 <p id='msg'></p>
 
 <!-- including upload.js script --> 
 <!-- <script src='upload.js'></script> -->
 <script>
//Adding a submit function to the form 
$('#uploadImage').submit(function(e){
 
 //Preventing the default behavior of the form 
 //Because of this line the form will do nothing i.e will not refresh or redirect the page 
 e.preventDefault();
 
 //Creating an ajax method
 $.ajax({
 
 //Getting the url of the uploadphp from action attr of form 
 //this means currently selected element which is our form 
 url: "upload.php",
//  $(this).attr('action'),
 
 //For file upload we use post request
 type: "POST",
 
 //Creating data from form 
 data: new FormData(this),
 
 //Setting these to false because we are sending a multipart request
 contentType: false,
 cache: false,
 processData: false,
 success: function(data){
 //If the request is successfull we will get the scripts output in data variable 
 //Showing the result in our html element 
 $('#msg').html(data);
 },
 error: function(){}
 });
});
 </script>
 
 </body>
</html>